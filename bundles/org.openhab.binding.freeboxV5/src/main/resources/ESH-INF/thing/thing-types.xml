<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="freeboxV5" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0 http://eclipse.org/smarthome/schemas/thing-description-1.0.0.xsd">

	<bridge-type id="server">
		<label>Freebox V5</label>
		<description>Provides various informations regarding the status of the Freebox Server</description>
<!-- 
		<channels>
			<channel id="xdsl_status" typeId="xdsl_status" />
			<channel id="line_status" typeId="line_status" />
			<channel id="ipv4" typeId="ipv4" />
			<channel id="rate_up" typeId="rate_up" />
			<channel id="rate_down" typeId="rate_down" />
			<channel id="bytes_up" typeId="bytes_up" />
			<channel id="bytes_down" typeId="bytes_down" />
		</channels>
		-->
		<channel-groups>
            <channel-group id="general" typeId="general" />
            <channel-group id="adsl" typeId="adsl" />
            <channel-group id="adsl_atm" typeId="adsl_atm" />
            <channel-group id="adsl_attenuation" typeId="adsl_attenuation" />
            <channel-group id="adsl_noise_margin" typeId="adsl_noise_margin" />
            <channel-group id="adsl_fec" typeId="adsl_fec" />
            <channel-group id="adsl_crc" typeId="adsl_crc" />
            <channel-group id="adsl_hec" typeId="adsl_hec" />
            <channel-group id="wifi" typeId="wifi" />
            <channel-group id="network" typeId="network" />
		</channel-groups>

		<properties>
			<property name="vendor">Freebox SAS</property>
		</properties>

		<config-description>
			<parameter name="fqdn" type="text">
				<label>Freebox Server FQDN</label>
				<context>network_address</context>
				<description>The IP address / FQDN of the Freebox Server (can include port number)</description>
				<default>mafreebox.freebox.fr</default>
				<required>false</required>
			</parameter>

			<parameter name="refreshInterval" type="integer" min="1">
				<label>Refresh Interval</label>
				<description>The refresh interval in seconds which is used to poll given Freebox Server</description>
				<default>30</default>
				<required>false</required>
			</parameter>

		</config-description>
	</bridge-type>

	<thing-type id="phone">
		<supported-bridge-type-refs>
			<bridge-type-ref id="server" />
		</supported-bridge-type-refs>

		<label>Phone</label>
		<description>Provides various informations regarding the phone state</description>

		<channels>
			<channel id="onhook" typeId="onhook" />
			<channel id="ringing" typeId="ringing" />
		</channels>

	</thing-type>

    <channel-group-type id="general">
        <label>General</label>
        <description>The general parameters</description>
        <channels>
            <channel id="fwversion" typeId="fwversion" />
            <channel id="uptime" typeId="uptime" />
            <channel id="restarted" typeId="restarted" />
        </channels>
    </channel-group-type>

    <channel-group-type id="adsl" advanced="true">
        <label>ADSL</label>
        <description>The ADSL parameters</description>
        <channels>
            <channel id="adsl_state" typeId="adsl_state" />
            <channel id="adsl_protocol" typeId="adsl_protocol" />
            <channel id="adsl_mode" typeId="adsl_mode" />
        </channels>
    </channel-group-type>

	<channel-type id="fwversion" advanced="true">
		<item-type>String</item-type>
		<label>Firmware Version</label>
		<description>Version of the Freebox Server Firmware</description>
		<state readOnly="true" />
	</channel-type>

	<channel-type id="uptime" advanced="true">
		<item-type>Number</item-type>
		<label>Server uptime</label>
		<description>Time since last reboot of the Freebox Server</description>
		<state readOnly="true" pattern="%d s" />
	</channel-type>

	<channel-type id="restarted">
		<item-type>Switch</item-type>
		<label>Just restarted</label>
		<description>Has the Freebox server have restarted during the last poll period</description>
		<category>Alarm</category>
		<state readOnly="true" />
	</channel-type>

	<channel-type id="adsl_state" advanced="true">
		<item-type>String</item-type>
		<label>ADSL state</label>
		<description>State of the ADSL line</description>
        <state readOnly="true" />
	</channel-type>

	<channel-type id="adsl_mode" advanced="true">
		<item-type>String</item-type>
		<label>ADSL Mode</label>
		<description>Mode of the ADSL line</description>
		<state readOnly="true" />
	</channel-type>

	<channel-type id="adsl_protocol" advanced="true">
		<item-type>String</item-type>
		<label>ADSL protocol</label>
		<description>Protocol of the ADSL line</description>
		<state readOnly="true" pattern="%d rpm" />
	</channel-type>

    <channel-group-type id="adsl_atm" advanced="true">
        <label>ADSL ATM</label>
        <description>ADSL ATM levels</description>
        <channels>
            <channel id="adsl_atm_up" typeId="rate_up" />
            <channel id="adsl_atm_down" typeId="rate_down" />
        </channels>
    </channel-group-type>

    <channel-type id="rate_down" advanced="true">
        <item-type>Number</item-type>
        <label>Rate Down</label>
        <description>Downloading rate</description>
        <state readOnly="true" pattern="%d kb/s" />
    </channel-type>

    <channel-type id="rate_up" advanced="true">
        <item-type>Number</item-type>
        <label>Rate Up</label>
        <description>Uploading rate</description>
        <state readOnly="true" pattern="%d kb/s" />
    </channel-type>

    <channel-group-type id="adsl_noise_margin" advanced="true">
        <label>ADSL Noise</label>
        <description>ADSL noise margins</description>
        <channels>
            <channel id="adsl_noise_margin_up" typeId="db_up" />
            <channel id="adsl_atm_down" typeId="db_down" />
        </channels>
    </channel-group-type>

	<channel-type id="db_down" advanced="true">
		<item-type>Number</item-type>
		<label>Db Down</label>
		<description>Downloading</description>
		<state readOnly="true" pattern="%d db" />
	</channel-type>

    <channel-type id="db_up" advanced="true">
        <item-type>Number</item-type>
        <label>Db Up</label>
        <description>Uploading</description>
        <state readOnly="true" pattern="%d db" />
    </channel-type>

    <channel-group-type id="adsl_attenuation" advanced="true">
        <label>ADSL Attenuation</label>
        <description>ADSL attenuation</description>
        <channels>
            <channel id="adsl_noise_margin_up" typeId="db_up" />
            <channel id="adsl_atm_down" typeId="db_down" />
        </channels>
    </channel-group-type>

    <channel-group-type id="adsl_fec" advanced="true">
        <label>ADSL FEC</label>
        <description>ADSL FEC levels</description>
        <channels>
            <channel id="adsl_fec_up" typeId="raw_up" />
            <channel id="adsl_fec_down" typeId="raw_down" />
        </channels>
    </channel-group-type>

    <channel-group-type id="adsl_crc" advanced="true">
        <label>ADSL CRC</label>
        <description>ADSL CRC levels</description>
        <channels>
            <channel id="adsl_crc_up" typeId="raw_up" />
            <channel id="adsl_crc_down" typeId="raw_down" />
        </channels>
    </channel-group-type>

    <channel-group-type id="adsl_hec" advanced="true">
        <label>ADSL HEC</label>
        <description>ADSL HEC levels</description>
        <channels>
            <channel id="adsl_hec_up" typeId="raw_up" />
            <channel id="adsl_hec_down" typeId="raw_down" />
        </channels>
    </channel-group-type>

    <channel-type id="raw_down" advanced="true">
        <item-type>Number</item-type>
        <label>Down</label>
        <description>Downloading</description>
        <state readOnly="true" />
    </channel-type>

    <channel-type id="raw_up" advanced="true">
        <item-type>Number</item-type>
        <label>Up</label>
        <description>Uploading</description>
        <state readOnly="true" />
    </channel-type>

    <channel-group-type id="wifi" advanced="true">
        <label>Wifi</label>
        <description>Wifi related parameters</description>
        <channels>
            <channel id="wifi_status" typeId="wifi_status" />
            <channel id="wifi_model" typeId="wifi_model" />
            <channel id="wifi_channel" typeId="wifi_channel" />
            <channel id="wifi_net_state" typeId="wifi_net_state" />
            <channel id="wifi_ssid" typeId="wifi_ssid" />
            <channel id="wifi_type" typeId="wifi_type" />
            <channel id="wifi_freewifi" typeId="wifi_freewifi" />
            <channel id="wifi_freewifi_secure" typeId="wifi_freewifi_secure" />
        </channels>
    </channel-group-type>

    <channel-type id="wifi_status" advanced="true">
        <item-type>Switch</item-type>
        <label>State</label>
        <description>Indicates whether the wifi network is enabled</description>
        <state readOnly="true" />
    </channel-type>

    <channel-type id="wifi_model" advanced="true">
        <item-type>String</item-type>
        <label>Model</label>
        <description>Indicates the model of the Wifi chipset</description>
        <state readOnly="true" />
    </channel-type>

	<channel-type id="wifi_channel" advanced="true">
		<item-type>Number</item-type>
		<label>Channel</label>
		<description>Wifi channel</description>
		<state readOnly="true" />
	</channel-type>

	<channel-type id="wifi_net_state" advanced="true">
		<item-type>Switch</item-type>
		<label>Network State</label>
		<description>Indicates whether the network state</description>
        <state readOnly="true" />
	</channel-type>

	<channel-type id="wifi_ssid" advanced="true">
		<item-type>String</item-type>
		<label>SSID</label>
		<description>Indicates the SSID of the Wifi</description>
        <state readOnly="true" />
	</channel-type>

	<channel-type id="wifi_type" advanced="true">
		<item-type>String</item-type>
		<label>Encryption type</label>
		<description>Indicates the encryption type of the Wifi</description>
        <state readOnly="true" />
	</channel-type>

	<channel-type id="wifi_freewifi" advanced="true">
		<item-type>Switch</item-type>
		<label>FreeWifi</label>
		<description>Indicates whether FreeWifi is enabled</description>
        <state readOnly="true" />
	</channel-type>

    <channel-type id="wifi_freewifi_secure" advanced="true">
        <item-type>Switch</item-type>
        <label>FreeWifi Secure</label>
        <description>Indicates whether FreeWifi Secure is enabled</description>
        <state readOnly="true" />
    </channel-type>

    <channel-group-type id="network" advanced="true">
        <label>Network</label>
        <description>Network related parameters</description>
        <channels>
		    <channel id="network_mac" typeId="network_mac" />
		    <channel id="network_ipv6" typeId="network_ipv6" />
		    <channel id="network_ip_public" typeId="network_ip_public" />
		    <channel id="network_router" typeId="network_router" />
		    <channel id="network_ip_dmz" typeId="network_ip_dmz" />
		    <channel id="network_ip_private" typeId="network_ip_private" />
		    <channel id="network_ip_freeplayer" typeId="network_ip_freeplayer" />
		    <channel id="network_ping" typeId="network_ping" />
		    <channel id="network_wol_proxy" typeId="network_wol_proxy" />
		    <channel id="network_dhcp" typeId="network_dhcp" />
        </channels>
    </channel-group-type>

    <channel-type id="network_mac" advanced="true">
        <item-type>String</item-type>
        <label>Network MAC</label>
        <description>MAC address</description>
        <state readOnly="true" />
    </channel-type>

    <channel-type id="network_ip_public" advanced="true">
        <item-type>String</item-type>
        <label>Public IP</label>
        <description>Public IP address</description>
        <state readOnly="true" />
    </channel-type>

    <channel-type id="network_ipv6" advanced="true">
        <item-type>Switch</item-type>
        <label>IPv6</label>
        <description>Indicates whether the IPv6 is activated</description>
        <state readOnly="true" />
    </channel-type>

    <channel-type id="network_router" advanced="true">
        <item-type>Switch</item-type>
        <label>Router</label>
        <description>Indicates whether the router mode is activated</description>
        <state readOnly="true" />
    </channel-type>

    <channel-type id="network_ip_private" advanced="true">
        <item-type>String</item-type>
        <label>Private IP</label>
        <description>IP address in the private network</description>
        <state readOnly="true" />
    </channel-type>

    <channel-type id="network_ip_dmz" advanced="true">
        <item-type>String</item-type>
        <label>DMZ IP</label>
        <description>IP address of the DMZ</description>
        <state readOnly="true" />
    </channel-type>

    <channel-type id="network_ip_freeplayer" advanced="true">
        <item-type>String</item-type>
        <label>Freeplayer IP</label>
        <description>IP address of the Freeplayer</description>
        <state readOnly="true" />
    </channel-type>

    <channel-type id="network_ping" advanced="true">
        <item-type>Switch</item-type>
        <label>Ping</label>
        <description>Indicates whether the answer to ping is activated</description>
        <state readOnly="true" />
    </channel-type>

    <channel-type id="network_wol_proxy" advanced="true">
        <item-type>Switch</item-type>
        <label>Wake On Lan Proxy</label>
        <description>Indicates whether the Wake On Lan Proxy is activated</description>
        <state readOnly="true" />
    </channel-type>

    <channel-type id="network_dhcp" advanced="true">
        <item-type>Switch</item-type>
        <label>DHCP</label>
        <description>Indicates whether the DHCP server is activated</description>
        <state readOnly="true" />
    </channel-type>

	<channel-type id="line_status">
		<item-type>String</item-type>
		<label>Line Status</label>
		<description>Status of network line connexion</description>
		<state readOnly="true" />
	</channel-type>

	<channel-type id="ipv4" advanced="true">
		<item-type>String</item-type>
		<label>IP Address</label>
		<description>Public IP Address of the Freebox Server</description>
		<state readOnly="true" />
	</channel-type>

	<channel-type id="onhook">
		<item-type>Switch</item-type>
		<label>On-hook</label>
		<description>Indicates whether the phone is on hook</description>
		<category>Switch</category>
		<state readOnly="true" />
	</channel-type>

	<channel-type id="ringing">
		<item-type>Switch</item-type>
		<label>Ringing</label>
		<description>Is the phone ringing</description>
		<category>Alarm</category>
		<state readOnly="true" />
	</channel-type>

</thing:thing-descriptions>
